{"is_source_file": true, "format": "TypeScript", "description": "This file defines an Express router with several API endpoints under /api/stats, handling requests for overview, timeseries, devices, and location statistics. It imports middleware and service functions, and sets up GET routes with request handling and responses.", "external_files": ["../middleware/clerkAuth.js", "../services/statsService.js"], "external_methods": ["clerkAuthMiddleware", "overviewStats", "timeseriesStats", "deviceBreakdown", "locationBreakdown"], "published": ["router"], "classes": [], "methods": [{"name": "GET /overview", "description": "Handles GET requests for overall KPIs, retrieves data from overviewStats, and returns JSON response."}, {"name": "GET /timeseries", "description": "Handles GET requests for timeseries data, retrieves from timeseriesStats, and returns JSON with series and interval info."}, {"name": "GET /devices", "description": "Handles GET requests for device breakdown data, retrieves from deviceBreakdown, returns JSON."}, {"name": "GET /locations", "description": "Handles GET requests for location breakdown data, retrieves from locationBreakdown, returns JSON."}], "calls": ["overviewStats()", "timeseriesStats()", "deviceBreakdown()", "locationBreakdown()"], "search-terms": ["express router", "stats API endpoints", "clerkAuthMiddleware", "statsService.js", "dashboard KPIs", "timeseries data", "device breakdown", "location breakdown"], "state": 2, "file_id": 31, "knowledge_revision": 353, "git_revision": "898d8f77015440c6c7c9365764d4c9e2c42624fe", "revision_history": [{"63": ""}, {"196": "6241b6678d4ba4937d8c14a0c734b886660ccbf2"}, {"353": "898d8f77015440c6c7c9365764d4c9e2c42624fe"}], "ctags": [{"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/routes/stats.ts", "pattern": "/^  const data = await deviceBreakdown(sinceMinutes);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/routes/stats.ts", "pattern": "/^  const data = await locationBreakdown(sinceMinutes);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/routes/stats.ts", "pattern": "/^  const data = await overviewStats(Number.isFinite(sinceMinutes) ? sinceMinutes : 60);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/routes/stats.ts", "pattern": "/^  const data = await timeseriesStats(intervalMinutes, totalMinutes);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "intervalMinutes", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/routes/stats.ts", "pattern": "/^  const intervalMinutes = Number.parseInt((req.query.intervalMinutes as string) || '5', 10);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/routes/stats.ts", "pattern": "/^const router = Router();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "sinceMinutes", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/routes/stats.ts", "pattern": "/^  const sinceMinutes = Number.parseInt((req.query.sinceMinutes as string) || '60', 10);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "totalMinutes", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/routes/stats.ts", "pattern": "/^  const totalMinutes = Number.parseInt((req.query.totalMinutes as string) || '60', 10);$/", "language": "TypeScript", "kind": "constant"}], "hash": "0a5d546ed3689a313ebbd2fdbe3c2fb2", "format-version": 4, "code-base-name": "frontend_dashboard", "filename": "backend_api/src/routes/stats.ts"}