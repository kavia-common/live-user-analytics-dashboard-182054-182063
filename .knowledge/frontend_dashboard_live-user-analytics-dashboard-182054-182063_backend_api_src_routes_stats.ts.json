{"is_source_file": true, "format": "TypeScript", "description": "This is a backend route handler file for a Node.js/Express application that defines various API endpoints related to user analytics statistics (overview, timeseries, device breakdown, location breakdown). It imports middleware for authentication and calls service functions to fetch data, then responds with JSON.", "external_files": ["../middleware/clerkAuth.js", "../services/statsService.js"], "external_methods": ["clerkAuthMiddleware", "overviewStats", "timeseriesStats", "deviceBreakdown", "locationBreakdown"], "published": ["router"], "classes": [], "methods": [{"name": "/overview", "description": "GET endpoint for fetching an overview of stats since a specified number of minutes, requiring authentication."}, {"name": "/timeseries", "description": "GET endpoint for fetching timeseries stats over a specified interval and total duration, requiring authentication."}, {"name": "/devices", "description": "GET endpoint for fetching device breakdown stats since a specified number of minutes, requiring authentication."}, {"name": "/locations", "description": "GET endpoint for fetching location breakdown stats since a specified number of minutes, requiring authentication."}], "calls": ["overviewStats(sinceMinutes)", "timeseriesStats(intervalMinutes, totalMinutes)", "deviceBreakdown(sinceMinutes)", "locationBreakdown(sinceMinutes)"], "search-terms": ["stats route", "Express API stats endpoints", "clerkAuthMiddleware", "statsService"], "state": 2, "file_id": 63, "knowledge_revision": 172, "git_revision": "", "ctags": [{"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/frontend_dashboard/live-user-analytics-dashboard-182054-182063/backend_api/src/routes/stats.ts", "pattern": "/^  const data = await deviceBreakdown(sinceMinutes);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/frontend_dashboard/live-user-analytics-dashboard-182054-182063/backend_api/src/routes/stats.ts", "pattern": "/^  const data = await locationBreakdown(sinceMinutes);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/frontend_dashboard/live-user-analytics-dashboard-182054-182063/backend_api/src/routes/stats.ts", "pattern": "/^  const data = await overviewStats(sinceMinutes);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/frontend_dashboard/live-user-analytics-dashboard-182054-182063/backend_api/src/routes/stats.ts", "pattern": "/^  const data = await timeseriesStats(intervalMinutes, totalMinutes);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "intervalMinutes", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/frontend_dashboard/live-user-analytics-dashboard-182054-182063/backend_api/src/routes/stats.ts", "pattern": "/^  const intervalMinutes = parseInt((req.query.intervalMinutes as string) || '5', 10);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/frontend_dashboard/live-user-analytics-dashboard-182054-182063/backend_api/src/routes/stats.ts", "pattern": "/^const router = Router();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "sinceMinutes", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/frontend_dashboard/live-user-analytics-dashboard-182054-182063/backend_api/src/routes/stats.ts", "pattern": "/^  const sinceMinutes = parseInt((req.query.sinceMinutes as string) || '60', 10);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "totalMinutes", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/frontend_dashboard/live-user-analytics-dashboard-182054-182063/backend_api/src/routes/stats.ts", "pattern": "/^  const totalMinutes = parseInt((req.query.totalMinutes as string) || '60', 10);$/", "language": "TypeScript", "kind": "constant"}], "hash": "caa2331843943ad91ca76421b0541632", "format-version": 4, "code-base-name": "frontend_dashboard", "filename": "frontend_dashboard/live-user-analytics-dashboard-182054-182063/backend_api/src/routes/stats.ts", "revision_history": [{"172": ""}]}