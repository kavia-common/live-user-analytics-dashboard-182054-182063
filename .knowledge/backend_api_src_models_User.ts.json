{"is_source_file": true, "format": "TypeScript", "description": "Source file defining the User model schema for a MongoDB database using Mongoose, including user roles, password hashing, and related functionality.", "external_files": ["mongoose", "bcrypt"], "external_methods": ["bcrypt.compare", "bcrypt.hash"], "published": ["UserRole", "IUser", "createUserWithPassword", "User"], "classes": [{"name": "IUser", "description": "TypeScript interface representing a User document with properties like email, passwordHash, role, and methods for password comparison."}], "methods": [{"name": "comparePassword(plain: string): Promise<boolean>; comparePassword", "description": "Instance method to compare a plaintext password with the stored password hash.", "scope": "IUser", "scopeKind": "interface"}, {"name": "export async function createUserWithPassword( createUserWithPassword", "description": "Static helper function to create a new User, hashing the plaintext password before saving.", "scope": "", "scopeKind": ""}], "calls": ["bcrypt.compare", "bcrypt.hash", "user.save"], "search-terms": ["mongoose schema", "User model", "password hashing", "TypeScript interface", "MongoDB", "user roles", "User schema"], "state": 2, "file_id": 17, "knowledge_revision": 35, "git_revision": "", "ctags": [{"_type": "tag", "name": "IUser", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/models/User.ts", "pattern": "/^export interface IUser extends Document {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "User", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/models/User.ts", "pattern": "/^export const User: Model<IUser> =$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "UserRole", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/models/User.ts", "pattern": "/^export type UserRole = 'admin' | 'user';$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "UserSchema", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/models/User.ts", "pattern": "/^const UserSchema = new Schema<IUser>($/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "comparePassword", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/models/User.ts", "pattern": "/^  comparePassword(plain: string): Promise<boolean>;$/", "language": "TypeScript", "kind": "method", "scope": "IUser", "scopeKind": "interface"}, {"_type": "tag", "name": "createUserWithPassword", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/models/User.ts", "pattern": "/^export async function createUserWithPassword($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/models/User.ts", "pattern": "/^  createdAt: Date;$/", "language": "TypeScript", "kind": "property", "scope": "IUser", "scopeKind": "interface"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/models/User.ts", "pattern": "/^  email: string;$/", "language": "TypeScript", "kind": "property", "scope": "IUser", "scopeKind": "interface"}, {"_type": "tag", "name": "lastLoginAt", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/models/User.ts", "pattern": "/^  lastLoginAt?: Date;$/", "language": "TypeScript", "kind": "property", "scope": "IUser", "scopeKind": "interface"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/models/User.ts", "pattern": "/^  name?: string;$/", "language": "TypeScript", "kind": "property", "scope": "IUser", "scopeKind": "interface"}, {"_type": "tag", "name": "passwordHash", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/models/User.ts", "pattern": "/^  const passwordHash = await bcrypt.hash(params.password, saltRounds);$/", "language": "TypeScript", "kind": "constant", "scope": "createUserWithPassword", "scopeKind": "function"}, {"_type": "tag", "name": "passwordHash", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/models/User.ts", "pattern": "/^  passwordHash: string;$/", "language": "TypeScript", "kind": "property", "scope": "IUser", "scopeKind": "interface"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/models/User.ts", "pattern": "/^  role: UserRole;$/", "language": "TypeScript", "kind": "property", "scope": "IUser", "scopeKind": "interface"}, {"_type": "tag", "name": "saltRounds", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/models/User.ts", "pattern": "/^  const saltRounds = 10;$/", "language": "TypeScript", "kind": "constant", "scope": "createUserWithPassword", "scopeKind": "function"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/models/User.ts", "pattern": "/^  updatedAt: Date;$/", "language": "TypeScript", "kind": "property", "scope": "IUser", "scopeKind": "interface"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/live-user-analytics-dashboard-182054-182063/backend_api/src/models/User.ts", "pattern": "/^  const user = new UserModel({$/", "language": "TypeScript", "kind": "constant", "scope": "createUserWithPassword", "scopeKind": "function"}], "hash": "03d998235a14ce76c89301b8d2e40653", "format-version": 4, "code-base-name": "frontend_dashboard", "filename": "backend_api/src/models/User.ts", "fields": [{"name": "export interface IUser extends Document {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "createdAt: Date;", "scope": "IUser", "scopeKind": "interface", "description": "unavailable"}, {"name": "email: string;", "scope": "IUser", "scopeKind": "interface", "description": "unavailable"}, {"name": "lastLoginAt?: Date;", "scope": "IUser", "scopeKind": "interface", "description": "unavailable"}, {"name": "name?: string;", "scope": "IUser", "scopeKind": "interface", "description": "unavailable"}, {"name": "passwordHash: string;", "scope": "IUser", "scopeKind": "interface", "description": "unavailable"}, {"name": "role: UserRole;", "scope": "IUser", "scopeKind": "interface", "description": "unavailable"}, {"name": "updatedAt: Date;", "scope": "IUser", "scopeKind": "interface", "description": "unavailable"}], "revision_history": [{"35": ""}]}